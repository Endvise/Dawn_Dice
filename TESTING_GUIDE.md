# DaWn Dice Party - 테스트 지침

## 테스트 목록

이 문서는 Supabase 스키마 일치 작업 완료 후 수행해야 할 테스트 목록입니다.

---

## 1. 마스터 계정 로그인 테스트 ✅ 완료

### 방법
**[Streamlit 앱](http://localhost:8502)** 접속 후:

1. ID: `DaWnntt0623` 입력
2. 비밀번호: `4425endvise9897!` 입력
3. **Login** 버튼 클릭

### 확인 사항
- [x] 로그인 성공
- [ ] 로그아웃 후 재로그인
- [ ] 세션 유지 확인 (60분 타임아웃)

---

## 2. 사용자 회원가입 테스트

### 방법
1. **Register** 페이지 접속
2. 사령관번호: 10자리 입력 (예: `1234567890`)
3. 닉네임, 서버, 연맹 입력
4. 비밀번호 입력
5. **Register** 버튼 클릭

### 확인 사항
- [ ] 회원가입 성공
- [ ] users 테이블에 데이터 저장 확인
- [ ] 중복 사령관번호 처리 확인
- [ ] 블랙리스트 사용자 가입 차단 확인

---

## 3. 예약 신청 테스트

### 방법
1. 로그인 상태에서 **예약 신청** 페이지 접속
2. 닉네임, 사령관번호, 서버 입력
3. **예약 신청** 버튼 클릭

### 확인 사항
- [ ] 예약 성공 (reservations 테이블 저장)
- [ ] 정원 초과 시 대기자 처리 (현재 스키마는 대기자 없음)
- [ ] 블랙리스트 사용자 예약 차단

---

## 4. 관리자 대시보드 확인

### 방법
1. 마스터 계정으로 로그인
2. **관리자 대시보드** 페이지 접속

### 확인 사항
- [ ] 통계 정보 정상 표시
- [ ] 사용자 목록 표시
- [ ] 예약 현황 표시
- [ ] 공지사항 표시
- [ ] 블랙리스트 표시

---

## 5. 예약 현황 공개 페이지 확인

### 방법
비로그인 상태에서 **[예약 현황 페이지](http://localhost:8502)** 접속

### 확인 사항
- [ ] 현재 세션 정보 표시
- [ ] 예약 가능/마감 상태 표시
- [ ] 정원 현황 (N/M) 표시
- [ ] 대기자 수 표시 (현재 스키마는 0으로 고정)

---

## 6. Excel 업로드 테스트

### 방법
1. 마스터 계정으로 로그인
2. **참여자 관리** 페이지 접속
3. Excel 파일 업로드

### Excel 파일 예시

| 번호 | 닉네임 | 소속 | IGG 아이디 | 연맹 |
|-------|--------|------|----------|-------|
| 1 | 테스트1 | woLF | 1234567890 | TestA |
| 2 | 테스트2 | 아시아 | 0987654321 | TestB |

### 확인 사항
- [ ] Excel 업로드 성공
- [ ] participants 테이블에 데이터 저장
- [ ] 한글/특수문자 처리 확인
- [ ] 매핑 에러 처리

---

## 7. 블랙리스트 관리 테스트

### 방법
1. 마스터 계정으로 로그인
2. **블랙리스트 관리** 페이지 접속
3. 블랙리스트 추가/삭제

### 확인 사항
- [ ] 블랙리스트 추가 성공
- [ ] blacklist 테이블에 데이터 저장
- [ ] 만료 기능 동작 (expires_at)
- [ ] 블랙리스트 삭제 성공

---

## 8. 공지사항 관리 테스트

### 방법
1. 마스터 계정으로 로그인
2. **공지사항 관리** 페이지 접속
3. 공지사항 작성/수정/삭제

### 확인 사항
- [ ] 공지사항 추가 성공
- [ ] announcements 테이블에 데이터 저장
- [ ] 상단 고정 기능 동작
- [ ] Markdown 렌더링 확인

---

## 9. 로그아웃 테스트

### 방법
1. 로그인 상태에서 **Logout** 버튼 클릭

### 확인 사항
- [ ] 로그아웃 성공
- [ ] 세션 정보 초기화
- [ ] 재로그인 가능

---

## 10. 에러 시나리오 테스트

### 에러 케이스

| 케이스 | 예상 동작 |
|---------|-----------|
| 중복 사령관번호 | 에러 메시지 표시, 가입 차단 |
| 비밀번호 불일치 | 에러 메시지 표시, 재시도 |
| 블랙리스트 사용자 | 에러 메시지 표시, 예약 차단 |
| 정원 초과 | 대기자 등록 (현재 스키마는 예약 불가) |
| 로그인 5회 실패 | 계정 잠금 메시지 (현재 스키마는 제거됨) |
| 세션 타임아웃 | 자동 로그아웃 (60분) |

---

## 테스트 완료 체크리스트

### 기본 기능
- [ ] 마스터 계정 로그인
- [ ] 사용자 회원가입
- [ ] 일반 사용자 로그인
- [ ] 예약 신청
- [ ] 예약 취소
- [ ] 로그아웃

### 관리자 기능
- [ ] 관리자 대시보드
- [ ] 참여자 관리 (Excel 업로드)
- [ ] 블랙리스트 관리
- [ ] 공지사항 관리
- [ ] 예약 설정

### 공개 페이지
- [ ] 예약 현황 공개 페이지
- [ ] 예약 가능/마감 상태 표시

---

## 참고

- **Streamlit 앱 주소**: http://localhost:8502
- **마스터 계정**: ID `DaWnntt0623` / PW `.secrets/supabase_secrets.toml` 확인
- **Supabase Dashboard**: https://supabase.com/dashboard/project/gticuuzplbemivfturuz

---

*테스트 완료 후 DEVELOPMENT_LOG.md에 결과 기록 바랍니다.*
